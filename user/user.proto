syntax = "proto3";

option go_package = "github.com/Vadim-Makhnev/microservices-proto/golang/user;userpb";

// UserService
service UserService {
  // Register user
  rpc Register(RegisterUserRequest) returns (LoginUserResponse);
  // Log in user
  rpc Login(LoginUserRequest) returns (LoginUserResponse);
  // Get user by id
  rpc GetUserById(GetUserByIdRequest) returns (GetUserByIdResponse);
}

message RegisterUserRequest {
  string name     = 1;
  string email    = 2;
  string password = 3;
}

message LoginUserRequest {
  string email    = 1;
  string password = 2;
}

message LoginUserResponse {
  string access_token = 1;
}

message GetUserByIdRequest {
  int64 id = 1;
}

message GetUserByIdResponse {
  int64 id = 1;
  string name = 2; // опционально, если понадобится
}